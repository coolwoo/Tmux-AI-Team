# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ª AI é¡¹ç›®è‡ªåŠ¨åŒ–å·¥å…·åŒ…ï¼Œå°† tmux ä¸ Claude Code é›†æˆï¼Œå®ç°è‡ªä¸»å¤š Agent å¼€å‘å·¥ä½œæµã€‚ç³»ç»ŸåŠŸèƒ½åŒ…æ‹¬ï¼š

- åœ¨ tmux ä¼šè¯ä¸­å¯åŠ¨ Claude Code Agent è¿›è¡Œè‡ªä¸»é¡¹ç›®å¼€å‘
- è‡ªè°ƒåº¦ï¼šAgent å¯ä»¥ä½¿ç”¨ `at` å‘½ä»¤å®‰æ’è‡ªå·±çš„ä¸‹æ¬¡æ£€æŸ¥æ—¶é—´
- å¤š Agent é€šä¿¡ï¼šé€šè¿‡ tmux æ¶ˆæ¯ä¼ é€’å®ç°è·¨ä¼šè¯é€šä¿¡
- è‡ªåŠ¨ git æäº¤ï¼šå¯é…ç½®é—´éš”çš„å®šæ—¶æäº¤
- é¡¹ç›®è§„èŒƒæ–‡ä»¶ï¼šä½¿ç”¨ `project_spec.md` å®šä¹‰ä»»åŠ¡å’Œçº¦æŸ

## æ¶æ„

```
ğŸ“Œ å•é¡¹ç›®æ¨¡å¼:
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                  ğŸ“¦ tmux session: your-project                    â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¦â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¦â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘      Window 0         â•‘      Window 1         â•‘      Window 2     â•‘
â•‘   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â•‘   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â•‘   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
â•‘   â”‚ ğŸ¤– Claude   â”‚     â•‘   â”‚ ğŸ’» Shell    â”‚     â•‘   â”‚ ğŸŒ Server   â”‚ â•‘
â•‘   â”‚   Agent     â”‚     â•‘   â”‚  (æ‰‹åŠ¨æ“ä½œ)  â”‚     â•‘   â”‚ (Dev)       â”‚ â•‘
â•‘   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â•‘   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â•‘   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•©â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•©â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Œ å¤šé¡¹ç›®æ¨¡å¼ (Orchestrator æ¶æ„):
                â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
                â•‘    ğŸ‘¤ ä½  (Orchestrator)         â•‘
                â•‘    åè°ƒ â€¢ ç›‘æ§ â€¢ åˆ†é…ä»»åŠ¡        â•‘
                â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¦â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                                 â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚                      â”‚                      â”‚
          â–¼                      â–¼                      â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ ğŸ“± frontend â”‚        â”‚ âš™ï¸  backend â”‚        â”‚ ğŸ“² mobile   â”‚
   â”‚    Agent    â”‚        â”‚    Agent    â”‚        â”‚    Agent    â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## æ–‡ä»¶è¯´æ˜

| æ–‡ä»¶ | ç”¨é€” |
|------|------|
| `bashrc-ai-automation-v2.sh` | Bash å‡½æ•°ï¼Œå¤åˆ¶åˆ° ~/.ai-automation.sh å¹¶ sourceï¼Œæä¾›æ ¸å¿ƒå‘½ä»¤ |
| `project-start-v2.sh` | ç‹¬ç«‹è„šæœ¬ç‰ˆæœ¬ï¼ŒåŠŸèƒ½æ›´å®Œæ•´ |
| `AI-Project-Automation-Manual-v2.md` | ç”¨æˆ·æ“ä½œæ‰‹å†Œï¼ˆæ€»è§ˆï¼‰ |
| `docs/multi-project-mode.md` | å¤šé¡¹ç›®æ¨¡å¼ (Orchestrator) è¯¦ç»†ä½¿ç”¨æ‰‹å†Œ |
| `docs/pm-oversight-mode.md` | PM ç›‘ç£æ¨¡å¼è¯¦ç»†ä½¿ç”¨æ‰‹å†Œ |
| `docs/best-practices.md` | æœ€ä½³å®è·µä¸åæ¨¡å¼æŒ‡å— |
| `.claude/commands/pm-oversight.md` | PM ç›‘ç£æ¨¡å¼çš„ Claude Code æ–œæ å‘½ä»¤ |
| `.claude/commands/role-developer.md` | Developer è§’è‰²æ¨¡æ¿ |
| `.claude/commands/role-qa.md` | QA å·¥ç¨‹å¸ˆè§’è‰²æ¨¡æ¿ |
| `.claude/commands/role-devops.md` | DevOps å·¥ç¨‹å¸ˆè§’è‰²æ¨¡æ¿ |
| `.claude/commands/role-reviewer.md` | ä»£ç å®¡æŸ¥å‘˜è§’è‰²æ¨¡æ¿ |
| `.claude/commands/deploy-team.md` | å›¢é˜Ÿéƒ¨ç½²å‘½ä»¤ |

## æ ¸å¿ƒå‘½ä»¤ï¼ˆsource bashrc æ–‡ä»¶åå¯ç”¨ï¼‰

### åŸºç¡€å‘½ä»¤

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `fire <project>` | å¿«é€Ÿå¯åŠ¨é¡¹ç›®ï¼ˆåˆ›å»º tmux ä¼šè¯ï¼Œå¯åŠ¨ Claudeï¼‰ |
| `tsc <target> <msg>` | å‘é€æ¶ˆæ¯åˆ° Claude Codeï¼ˆå¤„ç†è½¯å›è½¦é—®é¢˜ï¼‰ |
| `check-agent [session]` | æŸ¥çœ‹ Agent çŠ¶æ€ |
| `monitor-snapshot [session]` | ç”Ÿæˆæ ¼å¼åŒ–ç›‘æ§å¿«ç…§ï¼ˆä¾› PM åˆ†æï¼‰ |
| `find-window <åç§°>` | æŒ‰åç§°æŸ¥æ‰¾çª—å£ |
| `schedule-checkin <åˆ†é’Ÿ> <å¤‡æ³¨>` | è°ƒåº¦ä¸‹æ¬¡æ£€æŸ¥ï¼ˆè‡ªè°ƒåº¦åŠŸèƒ½ï¼‰ |
| `start-auto-commit [session] [åˆ†é’Ÿ]` | å¯åŠ¨è‡ªåŠ¨ git æäº¤ |
| `list-agents` | åˆ—å‡ºæ‰€æœ‰æ´»è·ƒçš„ Agent ä¼šè¯ |
| `broadcast <msg>` | å‘æ‰€æœ‰ Agent å¹¿æ’­æ¶ˆæ¯ |

### é€šä¿¡åè®®å‘½ä»¤

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `send-status <target> <name> <done> <current>` | å‘é€çŠ¶æ€æ›´æ–° |
| `send-task <target> <id> <title> <obj> [priority]` | å‘é€ä»»åŠ¡åˆ†é… |
| `send-bug <target> <severity> <title> ...` | å‘é€ Bug æŠ¥å‘Š |
| `send-ack <target> <task-id>` | å‘é€ä»»åŠ¡ç¡®è®¤ |
| `send-done <target> <task-id> <summary>` | å‘é€å®Œæˆé€šçŸ¥ |
| `send-blocked <target> <name> <problem> ...` | å‘é€é˜»å¡é€šçŸ¥ |

### æ—¥å¿—ç³»ç»Ÿå‘½ä»¤

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `capture-agent-log <session> [window]` | æ•è· Agent å¯¹è¯åˆ°æ—¥å¿— |
| `view-agent-logs [session]` | æŸ¥çœ‹ä»Šæ—¥æ—¥å¿— |
| `end-agent <session> <window> [summary]` | ç»“æŸ Agent å¹¶ä¿å­˜æ—¥å¿— |
| `clean-agent-logs [days]` | æ¸…ç†æ—§æ—¥å¿—ï¼ˆé»˜è®¤ä¿ç•™ 7 å¤©ï¼‰ |

### Claude Code æ–œæ å‘½ä»¤

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `/pm-oversight <é¡¹ç›®> SPEC: <æ–‡ä»¶>` | å¯åŠ¨ PM ç›‘ç£æ¨¡å¼ |
| `/role-developer <ä»»åŠ¡æè¿°>` | ä½œä¸º Developer è§’è‰²å·¥ä½œ |
| `/role-qa <æµ‹è¯•ä»»åŠ¡>` | ä½œä¸º QA å·¥ç¨‹å¸ˆå·¥ä½œ |
| `/role-devops <è¿ç»´ä»»åŠ¡>` | ä½œä¸º DevOps å·¥ç¨‹å¸ˆå·¥ä½œ |
| `/role-reviewer <å®¡æŸ¥å†…å®¹>` | ä½œä¸ºä»£ç å®¡æŸ¥å‘˜å·¥ä½œ |
| `/deploy-team <é¡¹ç›®> [è§„æ¨¡]` | éƒ¨ç½² Agent å›¢é˜Ÿ |

## é…ç½®

ç¯å¢ƒå˜é‡ï¼ˆåœ¨ source ä¹‹å‰åœ¨ ~/.bashrc ä¸­è®¾ç½®ï¼‰ï¼š
- `CODING_BASE` - é¡¹ç›®ç›®å½•ï¼ˆé»˜è®¤ï¼š`~/Coding`ï¼‰
- `CLAUDE_CMD` - Claude å‘½ä»¤ï¼ˆé»˜è®¤ï¼š`claude`ï¼‰
- `DEFAULT_DELAY` - æ¶ˆæ¯å‘é€å»¶è¿Ÿç§’æ•°ï¼ˆé»˜è®¤ï¼š`1`ï¼‰

## æ¶ˆæ¯å‘é€æœºåˆ¶

`tsc` å‡½æ•°å¤„ç† Claude Code çš„è½¯å›è½¦é—®é¢˜ï¼š
```bash
tmux send-keys -t "$target" "$message" C-m
sleep $delay
tmux send-keys -t "$target" Enter  # éœ€è¦ç¬¬äºŒæ¬¡ Enter
```

## è‡ªè°ƒåº¦æœºåˆ¶

Agent å¯ä»¥é€šè¿‡å†™å…¥ `/tmp/next_check_note_*.txt` å¹¶ä½¿ç”¨ `at` å‘½ä»¤æ¥å®‰æ’è‡ªå·±çš„å”¤é†’æ—¶é—´ã€‚ç³»ç»Ÿä¼šåœ¨é¢„å®šæ—¶é—´å‘é€ç»§ç»­å·¥ä½œçš„æ¶ˆæ¯ã€‚

## PM ç›‘ç£æ¨¡å¼

`.claude/commands/pm-oversight.md` æä¾› Claude Code æ–œæ å‘½ä»¤ï¼Œè®©ä¸€ä¸ª Agent ä½œä¸ºé¡¹ç›®ç»ç†ç›‘ç£å¦ä¸€ä¸ª Engineer Agentï¼š

```
/pm-oversight <é¡¹ç›®å> SPEC: <è§„èŒƒæ–‡ä»¶è·¯å¾„>
```

PM Agent èŒè´£ï¼š
- é˜…è¯» Spec æ–‡ä»¶ç†è§£éœ€æ±‚
- å®šæœŸæ£€æŸ¥ Engineer è¿›åº¦
- ç›‘æ§ Server çª—å£æ—¥å¿—å¹¶åé¦ˆé”™è¯¯
- å¯¹ç…§è§„èŒƒéªŒæ”¶å·²å®ŒæˆåŠŸèƒ½
- å®‰æ’ä¸‹æ¬¡æ£€æŸ¥æ—¶é—´
